(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a284098"],{"4bb4":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.plot?o("v-app",[o("v-app-bar",{attrs:{app:"",color:"blue-grey",dark:"",dense:""}},[o("v-app-bar-nav-icon",{on:{click:function(e){return t.$router.back()}}},[o("v-icon",[t._v(t._s(t.icons.mdiArrowLeft))])],1),o("v-toolbar-title",[t._v(" "+t._s(t.plot.id)+" "+t._s(t.plot.name)+" 預覽")])],1),o("v-main",[o("l-map",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],ref:"map",staticStyle:{"min-height":"400px"},attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:zoom":t.zoomUpdate}},[o("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.plot_dtl,(function(e){return[o("l-marker",{key:e.id,attrs:{"lat-lng":t.getlatlng(e),name:e.id}},[o("l-tooltip",{attrs:{options:{permanent:!0,interactive:!0}}},[t._v("樣點 "+t._s(e.pno))])],1)]}))],2)],1)],1):t._e()},r=[],a=o("5530"),i=(o("d81d"),o("4fad"),o("1276"),o("ac1f"),o("94ed")),l=o("2f62"),p=o("e11e"),s=o("2699"),c=o("a40a"),d=o("4e2b"),u=o("31dc");o("6cc5");delete p["Icon"].Default.prototype._getIconUrl,p["Icon"].Default.mergeOptions({iconRetinaUrl:o("584d"),iconUrl:o("6397"),shadowUrl:o("e2b9")});var m={name:"Map",components:{LMap:s["a"],LTileLayer:c["a"],LMarker:d["a"],LTooltip:u["a"]},data:function(){return{icons:{mdiArrowLeft:i["b"],mdiPencil:i["v"],mdiDelete:i["i"],mdiEye:i["l"]},plotid:"",zoom:16,center:null,url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',currentZoom:11.5,showParagraph:!1,yourposition:null,mapOptions:{zoomSnap:.5}}},computed:Object(a["a"])(Object(a["a"])({},Object(l["e"])(["plottype","watertype"])),Object(l["c"])({plot:"getPlotSelected",plot_dtl:"getPlot_dtl",bbs_log:"getBbs_logFiltered",bbs_log_dtl:"getBbs_log_dtlFiltered",bird_log:"getBbs_log_birdFiltered"})),created:function(){this.plotid=this.$route.params.plotid,this.$store.dispatch("plotSelect",{id:this.plotid}),this.$store.dispatch("plot_dtlSetFilter",{plot:this.plotid}),this.$store.dispatch("plot_dtlSetFilter",{plot:this.plotid}),this.center=this.getlatlng(this.plot_dtl[parseInt(this.plot_dtl.length/2)])},methods:{idnamelist:function(t){return Object.entries(t).map((function(t){return{id:t[0],name:t[0]+" "+t[1]}}))},zoomUpdate:function(t){this.currentZoom=t},centerUpdate:function(t){this.currentCenter=t},onResize:function(){this.$refs.map.mapObject._onResize()},convertlatlng:function(t){var e=t.split(/°|'|"/);return parseInt(e[0])+parseInt(e[1])/60+parseFloat(e[2])/3600},getlatlng:function(t){return Object(p["latLng"])(this.convertlatlng(t.lat),this.convertlatlng(t.lng))}}},b=m,g=o("2877"),h=o("6544"),f=o.n(h),_=o("7496"),v=o("40dc"),z=o("5bc1"),y=o("132d"),O=o("f6c4"),w=o("2a7f"),j=o("269a"),k=o.n(j),I=o("dc22"),L=Object(g["a"])(b,n,r,!1,null,null,null);e["default"]=L.exports;f()(L,{VApp:_["a"],VAppBar:v["a"],VAppBarNavIcon:z["a"],VIcon:y["a"],VMain:O["a"],VToolbarTitle:w["a"]}),k()(L,{Resize:I["a"]})},"4fad":function(t,e,o){var n=o("23e7"),r=o("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return r(t)}})}}]);
//# sourceMappingURL=chunk-4a284098.e47615c1.js.map