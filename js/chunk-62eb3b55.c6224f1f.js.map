{"version":3,"sources":["webpack:///./src/views/eBird.vue?93b0","webpack:///src/views/eBird.vue","webpack:///./src/views/eBird.vue?f092","webpack:///./src/views/eBird.vue","webpack:///../../../src/components/VBottomSheet/VBottomSheet.ts","webpack:///./node_modules/core-js/modules/es.object.from-entries.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","icons","mdiHome","staticClass","_l","bird","name","key","on","$event","speak","es","join","domProps","e","mdiVolumeHigh","scopedSlots","_u","fn","ref","dialog","mdiMagnify","model","value","callback","$$v","expression","familys","search_birds","filter_family","search_words","staticRenderFns","data","computed","id","item","created","speech","voice","synth","methods","FindCodes","codes","length","findIndex","text","format_ename","split_words","component","VApp","VAppBar","VAppBarNavIcon","VBottomSheet","VBtn","VCard","VCol","VContainer","VDivider","VIcon","VList","VListItem","VListItemAction","VListItemContent","VListItemSubtitle","VListItemTitle","VMain","VRow","VSelect","VSheet","VSpacer","VTextField","VToolbarTitle","VToolbar","props","inset","maxWidth","type","String","default","transition","classes","$","iterate","createProperty","target","stat","fromEntries","iterable","obj","k","v","AS_ENTRIES"],"mappings":"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","file":"js/chunk-62eb3b55.c6224f1f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"blue-grey\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-app-bar-nav-icon',{attrs:{\"to\":\"/\"}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiHome))])],1),_c('v-toolbar-title',[_c('span',{staticClass:\"mr-5\"},[_vm._v(\"中華鳥名錄\")])]),_c('v-spacer'),_c('div',{staticClass:\"subtitle-1\"},[_vm._v(\"2020 ver\")])],1),_c('v-main',[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-list',{attrs:{\"two-line\":\"\",\"dense\":\"\"}},[_vm._l((_vm.birds),function(bird,name){return [_c('v-list-item',{key:name,attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.speak(name, bird)}}},[_c('v-list-item-content',[_c('v-list-item-title',[_c('span',{staticClass:\"text-h6 mr-5\"},[_vm._v(_vm._s(name))]),_c('span',{staticClass:\"text-h6\"},[_vm._v(_vm._s(bird.es.join(' ')))])]),_c('v-list-item-subtitle',{domProps:{\"innerHTML\":_vm._s(bird.e+\"<span style='float:right'><i>\" + (bird.sn) + \"</i></span>\")}})],1),_c('v-list-item-action',[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiVolumeHigh)+\" \")])],1)],1),_c('v-divider')]})],2)],1),_c('v-bottom-sheet',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',{attrs:{\"fixed\":\"\",\"dark\":\"\",\"fab\":\"\",\"bottom\":\"\",\"right\":\"\",\"color\":\"blue-grey\"},on:{\"click\":function($event){_vm.dialog=true;}}},[_c('v-icon',[_vm._v(_vm._s(_vm.icons.mdiMagnify))])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-sheet',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"items\":_vm.familys,\"item-text\":\"name\",\"item-value\":\"id\",\"dense\":\"\",\"label\":\"篩選科別\"},on:{\"change\":_vm.search_birds},model:{value:(_vm.filter_family),callback:function ($$v) {_vm.filter_family=$$v},expression:\"filter_family\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"任意字查詢\",\"dense\":\"\",\"clearable\":\"\"},on:{\"input\":_vm.search_birds},model:{value:(_vm.search_words),callback:function ($$v) {_vm.search_words=$$v},expression:\"search_words\"}})],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nv-app\n  v-app-bar(app, color=\"blue-grey\", dark, dense)\n    v-app-bar-nav-icon(to='/')\n      v-icon {{ icons.mdiHome}}\n    v-toolbar-title \n      span.mr-5 中華鳥名錄\n    v-spacer\n    .subtitle-1 2020 ver\n  v-main\n    v-card(flat)\n      v-list(two-line dense)\n        template(v-for=\"(bird, name) of birds\" )\n          v-list-item(:key=\"name\" @click=\"speak(name, bird)\" link)\n            v-list-item-content\n              v-list-item-title\n                span.text-h6.mr-5 {{name}}\n                span.text-h6 {{bird.es.join(' ')}}\n              v-list-item-subtitle(v-html=\"bird.e+`<span style='float:right'><i>${bird.sn}</i></span>`\")\n            v-list-item-action\n              v-icon {{ icons.mdiVolumeHigh}}              \n          v-divider\n    v-bottom-sheet(v-model=\"dialog\")\n      template(v-slot:activator=\"{ on, attrs }\")\n        v-btn(fixed, dark, fab, bottom, right, color=\"blue-grey\", @click=\"dialog=true;\")\n          v-icon {{ icons.mdiMagnify }}\n      v-sheet\n        v-container(fluid)\n          v-row\n            v-col(cols=\"12\")\n              v-select(v-model='filter_family' :items=\"familys\" item-text='name', item-value='id' @change='search_birds' dense, label='篩選科別')  \n            v-col(cols=\"12\")\n              v-text-field(label=\"任意字查詢\", dense, v-model='search_words' @input=\"search_birds\" clearable)\n</template>\n<script>\nimport { mapState } from 'vuex'\nimport { mdiHome, mdiDotsVertical, mdiVolumeHigh, mdiMagnify } from '@mdi/js'\nexport default {\n  name: 'Sname',\n  data: () => ({\n    icons: { mdiHome, mdiDotsVertical, mdiVolumeHigh, mdiMagnify },\n    birds: null,\n    allbirds: {},\n    ebird_family: {},\n    search_words: '',\n    filter_family: 0,\n    dialog: false,\n    synth: window.speechSynthesis,\n    speech: new window.SpeechSynthesisUtterance()\n  }),\n  computed: {\n    familys() {\n      return [\n        { name: '全部', id: 0 },\n        ...Object.entries(this.ebird_family).map(item => ({\n          id: item[1],\n          name: item[0]\n        }))\n      ]\n    },\n    ...mapState(['static_data_path'])\n  },\n  async mounted() {\n    this.ebird_family = this.$offlineStorage.get('tw_familys')\n    this.allbirds = this.$offlineStorage.get('tw_birds')\n    this.birds = Object.assign({}, this.allbirds)\n  },\n  created() {\n    this.speech.voice = this.synth\n      .getVoices()\n      .find(item => item.lang == 'zh-TW')\n  },\n  methods: {\n    FindCodes(codes, searchText) {\n      if (codes.length > 0) {\n        return codes.findIndex(item => item.indexOf(searchText) == 0) >= 0\n      } else {\n        return false\n      }\n    },\n    async search_birds() {\n      this.birds = Object.assign({}, this.allbirds)\n      if (this.filter_family != 0) {\n        this.birds = Object.fromEntries(\n          Object.entries(this.birds).filter(\n            ([, value]) => value.f == this.filter_family\n          )\n        )\n      }\n      if (this.search_words) {\n        let searchText = this.search_words.toUpperCase()\n        this.birds = Object.fromEntries(\n          Object.entries(this.birds).filter(\n            ([key, value]) =>\n              key.includes(searchText) ||\n              this.FindCodes(value.es, searchText) ||\n              (searchText.length > 3 &&\n                (value.e.toUpperCase().indexOf(searchText) == 0 ||\n                  value.sn.toUpperCase().indexOf(searchText) == 0))\n          )\n        )\n      }\n    },\n    speak(name, bird) {\n      this.speech.text = name + ' ' + bird.e\n      this.synth.speak(this.speech)\n    },\n    format_ename(ename) {\n      let split_words = ename.split(/ |-/)\n      if (split_words.length == 1) {\n        return (\n          `<span class=\"black--text\">${ename.substr(0, 4)}</span>` +\n          `${ename.substr(4)}`\n        )\n      } else if (split_words.length == 2) {\n        return (\n          `<span class=\"black--text\">${ename.substr(0, 2)}</span>` +\n          `${ename.substring(2, ename.indexOf(split_words[1]))}` +\n          `<span class=\"black--text\">${ename.substr(\n            ename.indexOf(split_words[1]),\n            2\n          )}</span>` +\n          `${ename.substring(ename.indexOf(split_words[1]) + 2)}`\n        )\n      } else if (split_words.length == 3) {\n        return (\n          `<span class=\"black--text\">${ename.substr(0, 1)}</span>` +\n          `${ename.substring(1, ename.indexOf(split_words[1]))}` +\n          `<span class=\"black--text\">${ename.substr(\n            ename.indexOf(split_words[1]),\n            1\n          )}</span>` +\n          `${ename.substring(\n            ename.indexOf(split_words[1]) + 1,\n            ename.indexOf(split_words[2])\n          )}` +\n          `<span class=\"black--text\">${ename.substr(\n            ename.indexOf(split_words[2]),\n            2\n          )}</span>` +\n          `${ename.substring(ename.indexOf(split_words[2]) + 2)}`\n        )\n      } else {\n        return (\n          `<span class=\"black--text\">${ename.substr(0, 1)}</span>` +\n          `${ename.substring(1, ename.indexOf(split_words[1]))}` +\n          `<span class=\"black--text\">${ename.substr(\n            ename.indexOf(split_words[1]),\n            1\n          )}</span>` +\n          `${ename.substring(\n            ename.indexOf(split_words[1]) + 1,\n            ename.indexOf(split_words[2])\n          )}` +\n          `<span class=\"black--text\">${ename.substr(\n            ename.indexOf(split_words[2]),\n            1\n          )}</span>` +\n          `${ename.substring(\n            ename.indexOf(split_words[2]) + 1,\n            ename.indexOf(split_words[3])\n          )}` +\n          `<span class=\"black--text\">${ename.substr(\n            ename.indexOf(split_words[3]),\n            1\n          )}</span>` +\n          `${ename.substring(ename.indexOf(split_words[3]) + 1)}`\n        )\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./eBird.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./eBird.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./eBird.vue?vue&type=template&id=833fc9f6&lang=pug&\"\nimport script from \"./eBird.vue?vue&type=script&lang=js&\"\nexport * from \"./eBird.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VApp,VAppBar,VAppBarNavIcon,VBottomSheet,VBtn,VCard,VCol,VContainer,VDivider,VIcon,VList,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VMain,VRow,VSelect,VSheet,VSpacer,VTextField,VToolbarTitle})\n","import './VBottomSheet.sass'\n\n// Extensions\nimport VDialog from '../VDialog/VDialog'\n\n/* @vue/component */\nexport default VDialog.extend({\n  name: 'v-bottom-sheet',\n\n  props: {\n    inset: Boolean,\n    maxWidth: {\n      type: [String, Number],\n      default: 'auto',\n    },\n    transition: {\n      type: String,\n      default: 'bottom-sheet-transition',\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VDialog.options.computed.classes.call(this),\n        'v-bottom-sheet': true,\n        'v-bottom-sheet--inset': this.inset,\n      }\n    },\n  },\n})\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n"],"sourceRoot":""}